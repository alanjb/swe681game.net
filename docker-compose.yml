version: "3"
services:
  api:
    service_name: api
    build:
      context: ./api
      dockerfile: ./api/Dockerfile
    container_name: "blsol-api"
    volumes:
      - ./:/user/src/app
    ports:
      - "8080:8080"
    depends_on:
      - mongodb-server
    deploy:
      resources:
        limits:
          memory: 256M
  mongodb-server:
    service_name: mongodb
    image: "mongo:4.2.3-bionic"
    ports:
      - "27017:27017"
    container_name: mongo-db
    volumes:
      - ./db/:/data/db
networks:
  default:
    external:
      name: "bl-sol-network"